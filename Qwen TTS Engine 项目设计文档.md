### Qwen TTS Engine 项目设计文档

###### 项目目的

本项目的目的是:

- 测试统一千问最新的文本转语音模型
- 为日常短语音合成提供统一且优质的解决方案



###### 项目设计

- 前端: 本项目采用Html + Css + JS 的前端方案, 最终可在浏览器中运行
- 功能:
  - 
  - 软件的UI布局从上到下分为三行:
    - 第一行: 左边是一个设置按钮, 图标为齿轮形状, 右边是一个下拉列表, 允许用户选择想使用的语音模型
    - 第二行: 一个较长的文本框
    - 第三行: 最底下, 左边是一个音频播放器, 右边是一个“生成”按钮
      - “生成”按钮是一个可以点击的下拉列表,当用户点击列表右边的一个三角形按钮, 列表即展开, 露出“保存”选项
      - 音频播放器有拉条功能, 允许用户调整播放进度
  - 软件行为:
    - 软件开始运行的时候, 弹出一个提示框, 要求用户键入API-key, 一经键入, 即将该key保存到浏览器中, 无需重复输入
    - 设置按钮点击之后, 进入设置页面
    - 下拉列表的每一项既能显示音色编号, 又能显示音色描述
    - 整体宽度不是整个屏幕, 当整个屏幕宽度过大时, 软件主题不再横向伸展, 而是居中, 保持适当的宽度
    - 在用户输入文本之前, “生成”按钮为不可点击状态, 相应按钮颜色较为灰暗
    - 在音频生成之前, “音频”播放功能处于不可用状态, 相应颜色较为灰暗
    - 若音频生成之后, 没有保存就直接生成下一段音频, 会提示用户是否要保存, 并给予用户“不再提示”的选项
    - 文本框右下角有一个浅色的文字, 类似“45/512”, 提示用户最多只能输入512个字, 假如超过512字, 生成按钮将变得不可用, 且512这个数字会变红, 从而提示用户超出限制
  - UI风格
    - 简约风格, 各处显示圆角的现代美感
    - 允许用户在设置中输入主题颜色色号



###### 接口与技术说明



采用qwen-tts作为模型, 支持以下七种音色

| Chelsie（女） | Cherry（女） | Ethan（男） | Serena（女） |
| ------------- | ------------ | ----------- | ------------ |
|               |              |             |              |

| Dylan（北京话-男） | Jada（吴语-女） | Sunny（四川话-女） |
| ------------------ | --------------- | ------------------ |
|                    |                 |                    |

接入案例

```curl
curl -X POST 'https://dashscope.aliyuncs.com/api/v1/services/aigc/multimodal-generation/generation' \
-H "Authorization: Bearer $DASHSCOPE_API_KEY" \
-H 'Content-Type: application/json' \
-H 'X-DashScope-SSE: enable' \
-d '{
    "model": "qwen-tts",
    "input": {
        "text": "那我来给大家推荐一款T恤，这款呢真的是超级好看，这个颜色呢很显气质，而且呢也是搭配的绝佳单品，大家可以闭眼入，真的是非常好看，对身材的包容性也很好，不管啥身材的宝宝呢，穿上去都是很好看的。推荐宝宝们下单哦。",
        "voice": "Chelsie"
    }
}'
```



| **功能特性**       | **说明**                                                     |
| ------------------ | ------------------------------------------------------------ |
| **接入方式**       | Python、Java、HTTP                                           |
| **流式输出**       | 支持                                                         |
| **流式输入**       | 不支持[Qwen-TTS Realtime API](https://help.aliyun.com/zh/model-studio/qwen-tts-realtime) 支持流式输入。 |
| **合成音频格式**   | wav流式输出 Base64 编码的 pcm                                |
| **合成音频采样率** | 24kHz                                                        |
| **时间戳**         | 不支持                                                       |
| **语言**           | 中文、英文、中英混合                                         |
| **声音复刻**       | 不支持                                                       |
| **SSML**           | 不支持                                                       |

| **模型名称**                                    | **版本**          | **上下文长度** | **最大输入** | **最大输出** | **输入成本** | **输出成本** | **免费额度**[（注）](https://help.aliyun.com/zh/model-studio/new-free-quota#591f3dfedfyzj) |
| ----------------------------------------------- | ----------------- | -------------- | ------------ | ------------ | ------------ | ------------ | ------------------------------------------------------------ |
| **（Token数）**                                 | **（每千Token）** |                |              |              |              |              |                                                              |
| **qwen-tts**当前与 qwen-tts-2025-04-10 能力相同 | 稳定版            | 8,192          | 512          | 7,680        | 0.0016元     | 0.01元       | 各100万Token有效期：百炼开通后180天内                        |
| **qwen-tts-latest**始终与最新快照版能力相同     | 最新版            |                |              |              |              |              |                                                              |
| qwen-tts-2025-05-22                             | 快照版            |                |              |              |              |              |                                                              |
| qwen-tts-2025-04-10                             |                   |                |              |              |              |              |                                                              |





音频转换为 Token 的规则：每1秒的音频对应 50个 Token 。若音频时长不足1秒，则按 50个 Token 计算。

您可以通过`text`指定文本，`voice`指定音色，通过返回的`url`来获取合成的语音。





